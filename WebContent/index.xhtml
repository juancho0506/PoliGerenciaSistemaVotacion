<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
 
<h:head>
	<title>Sistema de Votaciones</title>
</h:head>
<h:body>
	<h1>Escoga una Eleccion para Votar por un Candidato</h1><br/>
 	<div style="color:red"><h2>#{votacionesoBean.message}</h2></div>
 	<h:form>
	 	<h:panelGrid>
	 		<h2>Elecciones Registrados</h2>
	 		<h:dataTable value="#{votacionesoBean.elecciones}" var="e">
		 
		  			<h:column>
		  				<!-- column header -->
		  				<f:facet name="header">Nombre</f:facet>
		  				<!-- row record -->
		  				#{e.nombre}
		  			</h:column>
		
		  			<h:column>
		  				<f:facet name="header">Descripcion</f:facet>
		  				#{e.descripcion}
		  			</h:column>
		 			<h:column>
		  				<f:facet name="header">Acciones</f:facet>
		  				<h:commandLink action="#{votacionesoBean.loadCandidatesElection}" value="Ver">
					    	<f:param name="id" value="#{e.idEleccion}" />
						</h:commandLink>	
		  			</h:column>
		    </h:dataTable> 	
 		</h:panelGrid>
 		<div style="float: right;">
 			<h:panelGrid rendered="#{votacionesoBean.mostrarCandidatos}">
	 			<h2>Candidatos Postulados</h2>
		 		<h:dataTable value="#{votacionesoBean.candidatos}" var="c">
			 
			 			<h:column>
			  				<!-- column header -->
			  				<f:facet name="header">Documento</f:facet>
			  				<!-- row record -->
			  				#{c.numID}
			  			</h:column>
			 
			  			<h:column>
			  				<!-- column header -->
			  				<f:facet name="header">Nombre Completo</f:facet>
			  				<!-- row record -->
			  				#{c.nombreCompleto}
			  			</h:column>
			
			  			<h:column>
			  				<f:facet name="header">Fecha Nacimiento</f:facet>
			  				#{c.fechaNaciemto}
			  			</h:column>
			 			<h:column>
			  				<f:facet name="header">Acciones</f:facet>
			  				<h:commandLink action="#{votacionesoBean.votarCandidato}" value="Votar">
						    	<f:param name="id" value="#{c.numID}" />
							</h:commandLink>	
			  			</h:column>
			    </h:dataTable>
		    </h:panelGrid>
 		</div>
	</h:form>
 
</h:body>
</html>